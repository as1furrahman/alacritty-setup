# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                         STARSHIP PROMPT CONFIGURATION                        ║
# ║                    Minimal • Axenide-Inspired • Fast                         ║
# ╚══════════════════════════════════════════════════════════════════════════════╝
#
# Ultra-minimal prompt inspired by Axenide's setup
# Color scheme: Mellifluous Dark
# Font: Requires Nerd Font

"$schema" = 'https://starship.rs/config-schema.json'

# ─────────────────────────────────────────────────────────────────────────────────
# PROMPT FORMAT - Two-line minimal layout
# ─────────────────────────────────────────────────────────────────────────────────

format = """
$directory\
$git_branch\
$git_state\
$git_status\
$python\
$conda\
$cmd_duration\
$line_break\
${custom.distro}\
$character"""

# No right prompt for cleaner look
right_format = ""

add_newline = false
command_timeout = 1000

# ─────────────────────────────────────────────────────────────────────────────────
# CHARACTER - Minimal prompt symbol
# ─────────────────────────────────────────────────────────────────────────────────

[character]
success_symbol = "[»](bold #d29393)"
error_symbol = "[»](bold #c95954)"
vimcmd_symbol = "[«](bold #a8a1be)"
format = "$symbol "

# ─────────────────────────────────────────────────────────────────────────────────
# DIRECTORY - Clean path display
# ─────────────────────────────────────────────────────────────────────────────────

[directory]
style = "bold #b3b393"
format = "[$path]($style) "
truncation_length = 3
truncate_to_repo = true
truncation_symbol = "…/"
read_only = " 󰌾"
read_only_style = "#d29393"

[directory.substitutions]
"Documents" = "󰈙"
"Downloads" = ""
"Music" = "󰝚"
"Pictures" = ""
"Projects" = ""
"~" = ""

# ─────────────────────────────────────────────────────────────────────────────────
# GIT - Minimal with icons
# ─────────────────────────────────────────────────────────────────────────────────

[git_branch]
symbol = "󰘬 "
style = "bold #5b5b5b"
format = "[$symbol$branch]($style) "
truncation_length = 20

[git_state]
style = "#cbaa89"
format = '\([$state( $progress_current/$progress_total)]($style)\) '

[git_status]
style = "#cbaa89"
format = '([$all_status$ahead_behind]($style) )'
ahead = "↑${count}"
behind = "↓${count}"
diverged = "⇕"
conflicted = "!"
deleted = "✘"
renamed = "»"
modified = "~"
staged = "+"
untracked = "?"
stashed = "≡"

# ─────────────────────────────────────────────────────────────────────────────────
# LANGUAGES - Minimal, only when relevant
# ─────────────────────────────────────────────────────────────────────────────────

[python]
symbol = " "
style = "#c0af8c"
format = '[${symbol}${virtualenv}]($style) '
detect_extensions = ["py"]
detect_files = ["requirements.txt", "pyproject.toml", ".python-version"]
detect_folders = [".venv", "venv"]

[conda]
symbol = "󱔎 "
style = "#c0af8c"
format = "[$symbol$environment]($style) "
ignore_base = true

# ─────────────────────────────────────────────────────────────────────────────────
# STATUS - Command duration only
# ─────────────────────────────────────────────────────────────────────────────────

[cmd_duration]
min_time = 2000
style = "#cbaa89"
format = "[󱦟 $duration]($style) "
show_notifications = false

# ─────────────────────────────────────────────────────────────────────────────────
# DISABLED - Keep it minimal
# ─────────────────────────────────────────────────────────────────────────────────

[username]
disabled = true

[hostname]
disabled = true

[time]
disabled = true

[memory_usage]
disabled = true

[jobs]
disabled = true

[nodejs]
disabled = true

[rust]
disabled = true

[golang]
disabled = true

[docker_context]
disabled = true

[aws]
disabled = true

[gcloud]
disabled = true

[azure]
disabled = true

[kubernetes]
disabled = true

[package]
disabled = true

[battery]
disabled = true

[os]
disabled = true

[git_commit]
disabled = true

# ─────────────────────────────────────────────────────────────────────────────────
# CUSTOM MODULES
# ─────────────────────────────────────────────────────────────────────────────────

[custom.distro]
# Shows distro family logo (Arch  or Debian ) based on /etc/os-release
# "arch" matches arch, manjaro, endeavouros
# "debian" matches debian, ubuntu, mint, kali
command = """
if grep -qi "arch" /etc/os-release; then
    echo ""
elif grep -qiE "debian|ubuntu" /etc/os-release; then
    echo ""
else
    echo ""
fi
"""
when = "true"
shell = ["bash", "--noprofile", "--norc"]
style = "#6e6a86"  # Muted gray to 'shrink' visual weight
format = "[$output]($style) "
